<!DOCTYPE html>
<html>
<head>
  <title>Form for Lambda Trigger</title>
</head>
<body>
  <h1>Form for Lambda Trigger</h1>
  <form id="myForm">
    <label for="name">Name:</label>
    <input type="text" id="name" autocomplete="username" name="name" required>
    <br>
    <label for="email">Email:</label>
    <input type="email" id="email" autocomplete="email" name="email" required>
    <br>
    <button type="submit">Submit</button>
  </form>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/aws-sdk/2.1075.0/aws-sdk.min.js"></script>
  <script>
    document.getElementById("myForm").addEventListener("submit", function (e) {
      e.preventDefault();
      const formData = new FormData(this);

      const AWS = window.AWS; // Ensure you've included the AWS SDK in your HTML

      AWS.config.update({ region: "us-east-1" }); // Replace with your AWS region
      const lambda = new AWS.Lambda();

      const payload = {
        name: formData.get("name"),
        email: formData.get("email"),
      };

      const params = {
        FunctionName: "project2", // Replace with your Lambda function name
        InvocationType: "RequestResponse",
        Payload: JSON.stringify(payload),
      };

      lambda.invoke(params, (err, data) => {
        if (err) {
          console.error(err);
          alert("Error triggering Lambda function.");
        } else {
          console.log("Lambda response:", JSON.parse(data.Payload));
          alert("Lambda function triggered successfully.");
        }
      });
    });
  </script>
</body>
</html>
